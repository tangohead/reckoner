{% extends 'reckon_base.html' %}

{% block header %}
<h2>{% block title %}Create New Reckon{% endblock %}</h2>
{% endblock %}

{% block content %}

    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link" href="{{url_for('reckons.view')}}">View All</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active"  aria-current="page"href="{{url_for('reckons.create')}}">Create</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
        </li>
    </ul>
    
    {% with flash_messages = get_flashed_messages() %}

        {% if flash_messages %}
            {% for message in get_flashed_messages() %}
                {% if message["message"] %}
                    <div class="alert alert-{{ message["style"] }}" role="alert">
                        {{ message["message"] }}
                    </div>
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="post">

        <div class="mb-3">
            <label for="question" class="form-label">Question</label>
            <input type="text" class="form-control" id="question" name="question" aria-describedby="questionHelp"  value="{{ request.form["question"] }}" required>
            <div id="questionHelp" class="form-text">Be as specific as possible. Questions should include an end-date.</div>
        </div>
        <div class="mb-3">
            <label for="options" class="form-label">Options</label>
            <textarea class="form-control" id="options" name="options" required>{{ request.form["options"] }}</textarea>
            <div id="optionsHelp" class="form-text">Enter the options to the question, one per line.</div>
        </div>
        <div class="mb-3">
            <label for="enddate" class="form-label">End Date</label>
            <input type="text" class="form-control" id="enddate" name="enddate" required value="{{ request.form["enddate"] }}">
            <div id="enddateHelp" class="form-text">Enter the end date and time, in the form YYYY-MM-DDTHH:MM (i.e. ISO format). Times are in UTC.</div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
{% endblock %}